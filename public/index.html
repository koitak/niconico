<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>NicoNico SPEENYA</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="NicoSPEENYA">
  <link rel="apple-touch-icon" href="logo.png">
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.3/fastclick.min.js"></script>
  <script>
const waittime=2000;
// function sleep(milliseconds) { 
//   var start = new Date().getTime();
//   for (var i = 0; i < 1e7; i++) {
//     if ((new Date().getTime() - start) > milliseconds){
//       break;
//     }
//   }
// } // This function was added by k.
    // prevent user scroll on mobile phone
    document.addEventListener('touchmove', function (e) { e.preventDefault() }, false)

    function handleSubmit (form) {
      const action = $(form).attr('action')
      const params = $(form).serialize()
      const url = `${action}?${params}`

      $.get(url)
        .fail(function () {
          alert('failed to send message.')
        });
    }

    function like (type) {
      const url = `/like?image=${type}`

      $.get(url)
        .fail(function () {
          alert('failed to like.')
        })
    }

    $(function () {
      FastClick.attach(document.body)
    })
  </script>
  <style>
    body {
      -webkit-user-select: none;
      -moz-user-select: none;
      -khtml-user-select: none;
      -ms-user-select: none;
    }
    .footer {
      position: absolute;
      bottom: 0;
      width: 100%;
      background-color: rgba(0,0,0,0.05);
    }
  </style>
</head>

<body>
  <div class="container">
    <form class="form-horizontal" style="margin: 16px" role="form" action="/like" method="get" onsubmit="handleSubmit(this); return false;">
      <div class="form-group">
        <label class="control-label col-sm-2">スタンプ</label>
        <div class="input-group">
          <button class="btn btn-default" id="myButton1" type="button" onclick="like('ok');this.disabled=true;setTimeout(function(){document.getElementById('myButton1').disabled=false},waittime);">
            <img name="" src="okicon.png" style="width:1em;height:em;" alt="" /> わかった
          </button><!-- btn-primary thumb <i class="fa fa-thumbs-up"></i> --> <!-- name="myButton" added by k -->
          <button class="btn btn-default" id="myButton2" type="button" onclick="like('no');this.disabled=true;setTimeout(function(){document.getElementById('myButton2').disabled=false},waittime);">
            <img name="" src="noicon.png" style="width:1em;height:em;" alt="" /> 難しい
          </button><!-- speenya <i class="fa fa-paw"></i> -->
          <button class="btn btn-default" id="myButton3" type="button" onclick="like('good');this.disabled=true;setTimeout(function(){document.getElementById('myButton3').disabled=false},waittime);">
            <img name="" src="goodicon.png" style="width:1em;height:em;" alt="" /> いいね
          </button><!-- btn-primary thumb <i class="fa fa-thumbs-up"></i> -->
          <button class="btn btn-default" id="myButton4" type="button" onclick="like('bad');this.disabled=true;setTimeout(function(){document.getElementById('myButton4').disabled=false},waittime);">
            <img name="" src="badicon.png" style="width:1em;height:em;" alt="" /> よくないね
          </button><!-- speenya <i class="fa fa-paw"></i> -->
<br /><br />
          <button class="btn btn-default" id="myButton5" type="button" onclick="like('again');this.disabled=true;setTimeout(function(){document.getElementById('myButton5').disabled=false},waittime);">
            <img name="" src="againicon.png" style="width:1em;height:em;" alt="" /> もう一回
          </button><!-- newspicks <i class="fa fa-newspaper-o"></i> -->
          <button class="btn btn-default" id="myButton6" type="button" onclick="like('nomore');this.disabled=true;setTimeout(function(){document.getElementById('myButton6').disabled=false},waittime);">
            <img name="" src="nomoreicon.png" style="width:1em;height:em;" alt="" /> くどい
          </button><!-- newspicks <i class="fa fa-newspaper-o"></i> -->
<!--           <button class="btn btn-default" type="button" onclick="like('aye')">
            <img name="" src="ayeicon.png" style="width:1em;height:em;" alt="" /> 賛成
          </button><!-- newspicks <i class="fa fa-newspaper-o"></i>
          <button class="btn btn-default" type="button" onclick="like('nay')">
            <img name="" src="nayicon.png" style="width:1em;height:em;" alt="" /> 反対　
          </button> --><!-- newspicks <i class="fa fa-newspaper-o"></i> -->
        </div>
      </div>
      <div id="url" class="form-group" style="display: none">
        <label class="control-label col-sm-2">Send Image</label>
        <div class="input-group">
          <input type="text" name="url" class="form-control" placeholder="Please input image url">
          <span class="input-group-btn">
            <button class="btn btn-default" type="submit"><i class="fa fa-image"></i></button>
          </span>
        </div>
      </div>
    </form>
    <form class="form-horizontal" style="margin: 16px" role="form" action="/comment" method="get" onsubmit="if (this.body.value == '') return false; handleSubmit(this); this.body.value = '';this.disabled=true;setTimeout(function(){document.getElementById('myButton6').disabled=false},waittime); return false;">
      <div class="form-group">
        <label class="control-label col-sm-2">言葉</label>
        <div class="input-group">
          <input type="text" name="body" maxlength="60" class="form-control" placeholder="流す言葉をここに書く">
          <span class="input-group-btn">
            <button class="btn btn-default" type="submit">送信</button>
          </span>
        </div>
      </div>
<nobr>      <div class="form-group">
         <label class="control-label col-sm-2"></label><!-- 大きさ -->
        <div class="input-group btn-group" data-toggle="buttons">
          <label class="btn btn-default">
            <input type="radio" name="size" class="needsclick" value="72"> 大
          </label>　<!-- 64 -->
          <label class="btn btn-default active">
            <input type="radio" name="size" class="needsclick" value="50" selected> 中
          </label>　<!-- 56 -->
          <label class="btn btn-default">
            <input type="radio" name="size" class="needsclick" value="36"> 小
          </label>　<!-- 48 -->
         </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2"></label><!-- Speed -->
        <div class="input-group btn-group" data-toggle="buttons">
　
          <label class="btn btn-default">
            <input type="radio" name="duration" class="needsclick" value="4000"> 遅
          </label>
          <label class="btn btn-default active">
            <input type="radio" name="duration" class="needsclick" value="3000" selected> 中
          </label>
          <label class="btn btn-default">
            <input type="radio" name="duration" class="needsclick" value="2000"> 速
          </label>
        </div>
      </div></nobr>
      <div class="form-group">
         <label class="control-label col-sm-2"></label><!-- Color -->
        <div class="input-group btn-group" data-toggle="buttons">
          <label class="btn btn-default active">
            <input type="radio" name="color" class="needsclick" value="black" selected> 黒
          </label>
          <label class="btn btn-default">
            <input type="radio" name="color" class="needsclick" value="red"> 赤
          </label>
          <label class="btn btn-default">
            <input type="radio" name="color" class="needsclick" value="blue"> 青
          </label>
          <label class="btn btn-default">
            <input type="radio" name="color" class="needsclick" value="green"> 緑
          </label>
        </div>
      </div>
    </form>
    <div class="text-right" style="margin-top: 30px">
      <button class="btn btn-default btn-sm" type="button" onclick="$('#url').show(); $(this).hide()">
        <i class="fa fa-bolt"></i> Show Send Image Textbox
      </button>
    </div>
  </div>
  <div class="footer">
    <div class="container text-right">
      niconico-speenya © 2015-2017 @chimerast
    </div>
  </div>
</body>

</html>
